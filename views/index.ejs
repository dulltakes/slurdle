<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Random Mock Users</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<h1>Randomly Selected Slurs</h1>

<% if (slursList.length > 0) { %>
    <b>Which group does <em id="correct-term"><%= correctSlur.Term.toLowerCase() %></em> target?</b>
    <ul id="slur-list">
        <% slursList.forEach(item => { %>
            <li data-term="<%= item.Term.toLowerCase() %>"><%= item.Targets %></li>
        <% }) %>
    </ul>
<% } else { %>
    <p>No slurs found.</p>
<% } %>

<script>
    const correctTerm = document.getElementById('correct-term').textContent;

    document.querySelectorAll('#slur-list li').forEach(item => {
        item.addEventListener('click', () => {
            const clickedTerm = item.getAttribute('data-term');

            if (clickedTerm === correctTerm) {
                console.log('Well done!');
                console.log({
                    term: clickedTerm,
                    targets: item.textContent
                });
            } else {
                console.log('Try again!');
            }
        });
    });
</script>
</body>
</html>
